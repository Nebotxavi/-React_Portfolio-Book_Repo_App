{"ast":null,"code":"import http from \"./httpService\";\nconst apiEndpoint = \"users/\";\nconst tokenKey = \"token\"; // http.setJwt(getJwt());\n\nexport async function login({\n  username,\n  password\n}) {\n  const _ref = await http.post(apiEndpoint + \"token/\", {\n    username,\n    password\n  }),\n        token = _ref.data; // TRY (usename || email)\n\n\n  console.log(\"token in login\", token);\n  localStorage.setItem(tokenKey, JSON.stringify(token));\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getJwt() {\n  const token = localStorage.getItem(tokenKey);\n  return JSON.parse(token).access;\n}","map":{"version":3,"sources":["/home/balaclava/Desktop/Javascript/react/100daysCode/01-Book_system/front_book_repo/src/services/authService.js"],"names":["http","apiEndpoint","tokenKey","login","username","password","post","token","data","console","log","localStorage","setItem","JSON","stringify","logout","removeItem","getJwt","getItem","parse","access"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;AAEA,MAAMC,WAAW,GAAG,QAApB;AACA,MAAMC,QAAQ,GAAG,OAAjB,C,CAEA;;AAEA,OAAO,eAAeC,KAAf,CAAqB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAArB,EAA6C;AAAA,eAC1B,MAAML,IAAI,CAACM,IAAL,CAAUL,WAAW,GAAG,QAAxB,EAAkC;AAC9DG,IAAAA,QAD8D;AAE9DC,IAAAA;AAF8D,GAAlC,CADoB;AAAA,QACpCE,KADoC,QAC1CC,IAD0C,EAI9C;;;AACJC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,KAA9B;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqBV,QAArB,EAA+BW,IAAI,CAACC,SAAL,CAAeP,KAAf,CAA/B;AACD;AAED,OAAO,SAASQ,MAAT,GAAkB;AACvBJ,EAAAA,YAAY,CAACK,UAAb,CAAwBd,QAAxB;AACD;AAED,OAAO,SAASe,MAAT,GAAkB;AACvB,QAAMV,KAAK,GAAGI,YAAY,CAACO,OAAb,CAAqBhB,QAArB,CAAd;AACA,SAAOW,IAAI,CAACM,KAAL,CAAWZ,KAAX,EAAkBa,MAAzB;AACD","sourcesContent":["import http from \"./httpService\";\n\nconst apiEndpoint = \"users/\";\nconst tokenKey = \"token\";\n\n// http.setJwt(getJwt());\n\nexport async function login({ username, password }) {\n  const { data: token } = await http.post(apiEndpoint + \"token/\", {\n    username,\n    password\n  }); // TRY (usename || email)\n  console.log(\"token in login\", token);\n  localStorage.setItem(tokenKey, JSON.stringify(token));\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getJwt() {\n  const token = localStorage.getItem(tokenKey);\n  return JSON.parse(token).access;\n}\n"]},"metadata":{},"sourceType":"module"}