{"ast":null,"code":"import http from \"./httpService\";\nimport { refreshToken, getJwt } from \"./authService\";\nconst apiEndpoint = \"books/\";\n\nfunction updateToken() {\n  refreshToken();\n  http.setJwt(getJwt());\n}\n\nexport async function getBooks() {\n  updateToken();\n\n  const _ref = await http.get(apiEndpoint),\n        books = _ref.data;\n\n  return books;\n}\nexport async function getBook(id) {\n  updateToken();\n\n  const _ref2 = await http.get(apiEndpoint + id),\n        book = _ref2.data;\n\n  return book;\n}\nexport async function deleteBook(id) {\n  updateToken();\n  return await http.delete(apiEndpoint + id + \"/delete/\");\n}\nexport async function updateBook(id, book) {\n  updateToken();\n  return await http.put(apiEndpoint + id + \"/edit/\", book);\n}\nexport async function saveBook(book) {\n  updateToken();\n  return await http.post(apiEndpoint + \"new/\", book);\n}","map":{"version":3,"sources":["/home/balaclava/Desktop/Javascript/react/100daysCode/01-Book_system/front_book_repo/src/services/booksService.js"],"names":["http","refreshToken","getJwt","apiEndpoint","updateToken","setJwt","getBooks","get","books","data","getBook","id","book","deleteBook","delete","updateBook","put","saveBook","post"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;AACA,SAASC,YAAT,EAAuBC,MAAvB,QAAqC,eAArC;AAEA,MAAMC,WAAW,GAAG,QAApB;;AAEA,SAASC,WAAT,GAAuB;AACrBH,EAAAA,YAAY;AACZD,EAAAA,IAAI,CAACK,MAAL,CAAYH,MAAM,EAAlB;AACD;;AAED,OAAO,eAAeI,QAAf,GAA0B;AAC/BF,EAAAA,WAAW;;AADoB,eAEP,MAAMJ,IAAI,CAACO,GAAL,CAASJ,WAAT,CAFC;AAAA,QAEjBK,KAFiB,QAEvBC,IAFuB;;AAG/B,SAAOD,KAAP;AACD;AAED,OAAO,eAAeE,OAAf,CAAuBC,EAAvB,EAA2B;AAChCP,EAAAA,WAAW;;AADqB,gBAET,MAAMJ,IAAI,CAACO,GAAL,CAASJ,WAAW,GAAGQ,EAAvB,CAFG;AAAA,QAElBC,IAFkB,SAExBH,IAFwB;;AAGhC,SAAOG,IAAP;AACD;AAED,OAAO,eAAeC,UAAf,CAA0BF,EAA1B,EAA8B;AACnCP,EAAAA,WAAW;AACX,SAAO,MAAMJ,IAAI,CAACc,MAAL,CAAYX,WAAW,GAAGQ,EAAd,GAAmB,UAA/B,CAAb;AACD;AAED,OAAO,eAAeI,UAAf,CAA0BJ,EAA1B,EAA8BC,IAA9B,EAAoC;AACzCR,EAAAA,WAAW;AACX,SAAO,MAAMJ,IAAI,CAACgB,GAAL,CAASb,WAAW,GAAGQ,EAAd,GAAmB,QAA5B,EAAsCC,IAAtC,CAAb;AACD;AAED,OAAO,eAAeK,QAAf,CAAwBL,IAAxB,EAA8B;AACnCR,EAAAA,WAAW;AACX,SAAO,MAAMJ,IAAI,CAACkB,IAAL,CAAUf,WAAW,GAAG,MAAxB,EAAgCS,IAAhC,CAAb;AACD","sourcesContent":["import http from \"./httpService\";\nimport { refreshToken, getJwt } from \"./authService\";\n\nconst apiEndpoint = \"books/\";\n\nfunction updateToken() {\n  refreshToken();\n  http.setJwt(getJwt());\n}\n\nexport async function getBooks() {\n  updateToken();\n  const { data: books } = await http.get(apiEndpoint);\n  return books;\n}\n\nexport async function getBook(id) {\n  updateToken();\n  const { data: book } = await http.get(apiEndpoint + id);\n  return book;\n}\n\nexport async function deleteBook(id) {\n  updateToken();\n  return await http.delete(apiEndpoint + id + \"/delete/\");\n}\n\nexport async function updateBook(id, book) {\n  updateToken();\n  return await http.put(apiEndpoint + id + \"/edit/\", book);\n}\n\nexport async function saveBook(book) {\n  updateToken();\n  return await http.post(apiEndpoint + \"new/\", book);\n}\n"]},"metadata":{},"sourceType":"module"}