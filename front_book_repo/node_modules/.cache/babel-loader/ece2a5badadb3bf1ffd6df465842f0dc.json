{"ast":null,"code":"import _slicedToArray from \"/home/balaclava/Desktop/Javascript/react/100daysCode/01-Book_system/front_book_repo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/balaclava/Desktop/Javascript/react/100daysCode/01-Book_system/front_book_repo/src/components/bookForm.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { getBook } from \"../services/booksService\";\n\nconst BookForm = ({\n  match: item\n}) => {\n  const _useState = useState({\n    title: \"\",\n    firstName: \"\",\n    secondName: \"\",\n    rate: \"\",\n    genreName: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        book = _useState2[0],\n        setBook = _useState2[1];\n\n  useEffect(() => {\n    console.log(\"check useEffect\");\n    let shouldIgnore = false;\n\n    async function fetchBook() {\n      const book = await getBook(item.params.id);\n      if (!shouldIgnore) setBook(mapToState(book));\n    }\n\n    fetchBook();\n    return () => {\n      shouldIgnore = true;\n    };\n  }, [item]);\n\n  function mapToState(book) {\n    return {\n      title: book.title,\n      firstName: book.author_first_name,\n      secondName: book.author_second_name,\n      rate: book.rate,\n      genre: book.genre\n    };\n  }\n\n  return React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    for: \"input-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Title\"), React.createElement(\"input\", {\n    id: \"input-title\",\n    value: \"check\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    value: \"check\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    value: \"check\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })));\n};\n\nexport default BookForm;","map":{"version":3,"sources":["/home/balaclava/Desktop/Javascript/react/100daysCode/01-Book_system/front_book_repo/src/components/bookForm.jsx"],"names":["React","useEffect","useState","getBook","BookForm","match","item","title","firstName","secondName","rate","genreName","book","setBook","console","log","shouldIgnore","fetchBook","params","id","mapToState","author_first_name","author_second_name","genre"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,0BAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA,KAAK,EAAEC;AAAT,CAAD,KAAqB;AAAA,oBACZJ,QAAQ,CAAC;AAC/BK,IAAAA,KAAK,EAAE,EADwB;AAE/BC,IAAAA,SAAS,EAAE,EAFoB;AAG/BC,IAAAA,UAAU,EAAE,EAHmB;AAI/BC,IAAAA,IAAI,EAAE,EAJyB;AAK/BC,IAAAA,SAAS,EAAE;AALoB,GAAD,CADI;AAAA;AAAA,QAC7BC,IAD6B;AAAA,QACvBC,OADuB;;AASpCZ,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,QAAIC,YAAY,GAAG,KAAnB;;AACA,mBAAeC,SAAf,GAA2B;AACzB,YAAML,IAAI,GAAG,MAAMT,OAAO,CAACG,IAAI,CAACY,MAAL,CAAYC,EAAb,CAA1B;AACA,UAAI,CAACH,YAAL,EAAmBH,OAAO,CAACO,UAAU,CAACR,IAAD,CAAX,CAAP;AACpB;;AACDK,IAAAA,SAAS;AACT,WAAO,MAAM;AACXD,MAAAA,YAAY,GAAG,IAAf;AACD,KAFD;AAGD,GAXQ,EAWN,CAACV,IAAD,CAXM,CAAT;;AAaA,WAASc,UAAT,CAAoBR,IAApB,EAA0B;AACxB,WAAO;AACLL,MAAAA,KAAK,EAAEK,IAAI,CAACL,KADP;AAELC,MAAAA,SAAS,EAAEI,IAAI,CAACS,iBAFX;AAGLZ,MAAAA,UAAU,EAAEG,IAAI,CAACU,kBAHZ;AAILZ,MAAAA,IAAI,EAAEE,IAAI,CAACF,IAJN;AAKLa,MAAAA,KAAK,EAAEX,IAAI,CAACW;AALP,KAAP;AAOD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,GAAG,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AAAO,IAAA,EAAE,EAAC,aAAV;AAAwB,IAAA,KAAK,EAAC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAO,IAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE;AAAO,IAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF,CADF;AAUD,CA1CD;;AA4CA,eAAenB,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getBook } from \"../services/booksService\";\n\nconst BookForm = ({ match: item }) => {\n  const [book, setBook] = useState({\n    title: \"\",\n    firstName: \"\",\n    secondName: \"\",\n    rate: \"\",\n    genreName: \"\"\n  });\n\n  useEffect(() => {\n    console.log(\"check useEffect\");\n    let shouldIgnore = false;\n    async function fetchBook() {\n      const book = await getBook(item.params.id);\n      if (!shouldIgnore) setBook(mapToState(book));\n    }\n    fetchBook();\n    return () => {\n      shouldIgnore = true;\n    };\n  }, [item]);\n\n  function mapToState(book) {\n    return {\n      title: book.title,\n      firstName: book.author_first_name,\n      secondName: book.author_second_name,\n      rate: book.rate,\n      genre: book.genre\n    };\n  }\n\n  return (\n    <form>\n      <div class=\"form-group\">\n        <label for=\"input-title\">Title</label>\n        <input id=\"input-title\" value=\"check\" />\n        <input value=\"check\"></input>\n        <input value=\"check\"></input>\n      </div>\n    </form>\n  );\n};\n\nexport default BookForm;\n"]},"metadata":{},"sourceType":"module"}